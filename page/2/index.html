<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Make more time">
<meta property="og:type" content="website">
<meta property="og:title" content="易天行">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="易天行">
<meta property="og:description" content="Make more time">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="易天行">
<meta name="twitter:description" content="Make more time">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/"/>





  <title>易天行</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">易天行</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">积累点滴，汇聚江河</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/29/ionic state命令不应该再使用了/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ethan Hunt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tx.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="易天行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/29/ionic state命令不应该再使用了/" itemprop="url">ionic state命令将要废弃</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-29T11:29:00+08:00">
                2016-12-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ionic-state命令将要废弃"><a href="#ionic-state命令将要废弃" class="headerlink" title="ionic state命令将要废弃"></a>ionic state命令将要废弃</h1><p>参考自官方网站</p>
<p><a href="https://github.com/driftyco/ionic-cli/issues/904" target="_blank" rel="noopener">Discuss: Deprecate/Remove state command #904</a></p>
<p><a href="https://cordova.apache.org/docs/en/latest/platform_plugin_versioning_ref/index.html" target="_blank" rel="noopener">cordova说明</a></p>
<blockquote>
<p>The state command was created to manage Cordova plugins before it was supported in Cordova. Cordova now manages plugins and platforms in config.xml: <a href="https://cordova.apache.org/docs/en/latest/platform_plugin_versioning_ref/index.html" target="_blank" rel="noopener">https://cordova.apache.org/docs/en/latest/platform_plugin_versioning_ref/index.html</a> so there is a decent amount of confusion between the Ionic and Cordova behavior. As Cordova platforms and plugins are not an Ionic concern, let’s deprecate the state command and document the existing Cordova command workflow, ie plugin add –save.</p>
</blockquote>
<p>state命令是之前用来管理cordova插件的。现在Cordova自身已经开始通过<code>config.xml</code>来支持插件和平台管理（<a href="https://cordova.apache.org/docs/en/latest/platform_plugin_versioning_ref/index.html" target="_blank" rel="noopener">官方说明</a>），这会让我们对ionic和cordova的不同的管理方式感到困惑。因为cordova的平台和插件是ionic所不关心的，所以建议停止使用<code>state</code>命令，而使用cordova的管理方式，比如<code>plugin add --save</code></p>
<h2 id="对于插件我们应该这样管理"><a href="#对于插件我们应该这样管理" class="headerlink" title="对于插件我们应该这样管理"></a>对于插件我们应该这样管理</h2><p>重装所有插件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rm -rf plugins</span><br><span class="line"><span class="comment"># 更新插件,执行时会自动安装在config.xml中的插件</span></span><br><span class="line">cordova prepare</span><br></pre></td></tr></table></figure>
<p>从工程中彻底删除一个插件，–save命令会将删除或更改影响到<code>config.xml</code>,与<code>package.json</code>无关</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cordova plugin reomve ionic-plugin-keyboard --save</span><br><span class="line">cordova plugin add ionic-plugin-keyboard --save</span><br></pre></td></tr></table></figure>
<p>platform add的时候会自动检测<code>config.xml</code>，并安装记录的插件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cordova platform add android</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/28/研究了oh-my-zsh中环境变量的配置办法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ethan Hunt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tx.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="易天行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/28/研究了oh-my-zsh中环境变量的配置办法/" itemprop="url">Mac配置oh-my-zsh</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-28T00:00:00+08:00">
                2016-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Mac配置oh-my-zsh"><a href="#Mac配置oh-my-zsh" class="headerlink" title="Mac配置oh-my-zsh"></a>Mac配置oh-my-zsh</h1><h2 id="mac环境变量保存的地方"><a href="#mac环境变量保存的地方" class="headerlink" title="mac环境变量保存的地方"></a>mac环境变量保存的地方</h2><p>没有zsh的时候，mac中的环境变量保存在:</p>
<h4 id="1-etc-profile-（建议不修改这个文件-）"><a href="#1-etc-profile-（建议不修改这个文件-）" class="headerlink" title="1./etc/profile   （建议不修改这个文件 ）"></a>1./etc/profile   （建议不修改这个文件 ）</h4><p> 全局（公有）配置，不管是哪个用户，登录时都会读取该文件。</p>
<h4 id="2-etc-bashrc-（一般在这个文件中添加系统级环境变量）"><a href="#2-etc-bashrc-（一般在这个文件中添加系统级环境变量）" class="headerlink" title="2./etc/bashrc    （一般在这个文件中添加系统级环境变量）"></a>2./etc/bashrc    （一般在这个文件中添加系统级环境变量）</h4><p> 全局（公有）配置，bash shell执行时，不管是何种方式，都会读取此文件。</p>
<h4 id="3-bash-profile-（一般在这个文件中添加用户级环境变量）"><a href="#3-bash-profile-（一般在这个文件中添加用户级环境变量）" class="headerlink" title="3.~/.bash_profile  （一般在这个文件中添加用户级环境变量）"></a>3.~/.bash_profile  （一般在这个文件中添加用户级环境变量）</h4><p> 每个用户都可使用该文件输入专用于自己使用的shell信息,当用户登录时,该文件仅仅执行</p>
<p>如果要修改环境变量，一般修改<code>~/.bash_profile</code>就行了。</p>
<h2 id="查看环境变量"><a href="#查看环境变量" class="headerlink" title="查看环境变量"></a>查看环境变量</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ printenv</span><br></pre></td></tr></table></figure>
<p>查看当前使用的shell</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo $SHELL</span><br><span class="line">    /bin/zsh</span><br></pre></td></tr></table></figure>
<h2 id="zsh安装后"><a href="#zsh安装后" class="headerlink" title="zsh安装后"></a>zsh安装后</h2><p>安装zsh后，默认情况下就不会自动读取<code>~/.bash_profile</code>了。<br>在用户目录下应该有<code>.oh-my-zsh</code>目录，和<code>.zshrc</code>配置文件</p>
<ol>
<li><p><code>.oh-my-zsh</code>目录： 它是zsh的安装文件夹，可以自己更改</p>
</li>
<li><p><code>.zshrc</code>: 里面是zsh默认配置，可以用于设置环境变量（export），alias命令别名，设置主题等</p>
<blockquote>
<p>但是zsh不建议直接操作这个默认配置，如果用户需要自定义配置，推荐去这里<code>./oh-my-zsh/custom/custom.zsh</code>修改。注意：<code>custom</code>文件夹里的所有配置都会被zsh自动读取并配置。</p>
</blockquote>
</li>
<li><p><code>./oh-my-zsh/custom/my_custom.zsh</code>:用户设置自定义系统变量、自定义命令等等</p>
<p> 一般情况下，我们在<code>./oh-my-zsh/custom/my_custom.zsh</code>中配置一个快捷键</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">alias zshconfig=&quot;subl ~/.oh-my-zsh/custom/my_custom.zsh&quot;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="综上，如果要配置环境变量的步骤"><a href="#综上，如果要配置环境变量的步骤" class="headerlink" title="综上，如果要配置环境变量的步骤"></a>综上，如果要配置环境变量的步骤</h2><ol>
<li>执行<code>zshconfig</code>,会自动使用你定义的命令，打开配置文件</li>
<li>在该文件中添加你想要添加的环境变量，比如<code>export ANDROID_HOME=/Development/android-sdk/</code></li>
<li>重启cmd，生效！OK。配置完成</li>
</ol>
<h2 id="备份一个我自己的配置文件"><a href="#备份一个我自己的配置文件" class="headerlink" title="备份一个我自己的配置文件"></a>备份一个我自己的配置文件</h2><p><code>./oh-my-zsh/custom/my_custom.zsh</code>如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">alias zshconfig=&quot;subl ~/.oh-my-zsh/custom/my_custom.zsh&quot;</span><br><span class="line">alias code=\&apos;&apos;/Applications/Visual Studio Code.app/Contents/Resources/app/bin/code&apos;\&apos;</span><br><span class="line">alias subl=&quot;&apos;/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl&apos;&quot;</span><br><span class="line">alias nano=&quot;subl&quot;</span><br><span class="line">alias sl=&quot;subl&quot;</span><br><span class="line">alias py=&quot;python&quot;</span><br><span class="line">alias nw=&quot;/Applications/nwjs.app/Contents/MacOS/nwjs&quot;</span><br><span class="line">export ANDROID_HOME=/Development/android-sdk/</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/26/vscode中beautifyrc插件配置文件翻译和设置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ethan Hunt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tx.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="易天行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/26/vscode中beautifyrc插件配置文件翻译和设置/" itemprop="url">vscode中beautifyrc插件配置文件翻译和设置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-26T23:08:09+08:00">
                2016-12-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="vscode中beautifyrc插件配置文件翻译和设置"><a href="#vscode中beautifyrc插件配置文件翻译和设置" class="headerlink" title="vscode中beautifyrc插件配置文件翻译和设置"></a>vscode中beautifyrc插件配置文件翻译和设置</h1><p>2016-12-26 23:08:09</p>
<p>在 VisualStudio Code 中有<code>beautify</code>插件，用来格式化代码，下面是研究它的一些配置说明，一些英文缩写还是很难一眼看懂的，下面记录下来。</p>
<p>顺便给出一个英文的设置说明：<a href="https://github.com/HookyQR/VSCodeBeautify/blob/master/Settings.md" target="_blank" rel="noopener">https://github.com/HookyQR/VSCodeBeautify/blob/master/Settings.md</a>.英文好的话，直接去看就行啦。</p>
<p>配置说明：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"indent_size"</span>: <span class="number">4</span>,      <span class="comment">//缩进大小，默认4</span></span><br><span class="line">    <span class="string">"indent_char"</span>: <span class="string">" "</span>,    <span class="comment">//缩进字符，默认" "</span></span><br><span class="line">    <span class="string">"eol"</span>: <span class="string">"\n"</span>,           <span class="comment">//end of line，行结尾字符"\n"</span></span><br><span class="line">    <span class="string">"indent_level"</span>: <span class="number">0</span>,     <span class="comment">//初始缩进级别</span></span><br><span class="line">    <span class="string">"indent_with_tabs"</span>: <span class="literal">false</span>, <span class="comment">//使用tab缩进，将会覆盖“indent_size”和“indent_char”设置，默认false</span></span><br><span class="line">    <span class="string">"preserve_newlines"</span>: <span class="literal">true</span>,       <span class="comment">//保留空行，默认“true”</span></span><br><span class="line">    <span class="string">"max_preserve_newlines"</span>: <span class="number">10</span>,     <span class="comment">//一次最多保留多少行的空行，默认10</span></span><br><span class="line">    <span class="string">"jslint_happy"</span>: <span class="literal">false</span>,           <span class="comment">//开启jslint-stricter的严格模式（强制开启“space_after_anon_function”选项）,默认false</span></span><br><span class="line">    <span class="string">"space_after_anon_function"</span>: <span class="literal">false</span>, <span class="comment">//在匿名函数前自动加一个空格，比如`function ()&#123;&#125;`，默认false</span></span><br><span class="line">    <span class="string">"brace_style"</span>: <span class="string">"collapse"</span>,          <span class="comment">//括号风格，"collapse-preserve-inline", "collapse", "expand", "end-expand", or "none" ,默认“collapse”</span></span><br><span class="line">    <span class="string">"keep_array_indentation"</span>: <span class="literal">false</span>,    <span class="comment">//保持数组缩进，默认false</span></span><br><span class="line">    <span class="string">"keep_function_indentation"</span>: <span class="literal">false</span>, <span class="comment">//保持函数缩进，默认false</span></span><br><span class="line">    <span class="string">"space_before_conditional"</span>: <span class="literal">true</span>,   <span class="comment">//在条件语句之前保留一个空格，默认true</span></span><br><span class="line">    <span class="string">"break_chained_methods"</span>: <span class="literal">false</span>,     <span class="comment">//中断多行间的链式方法调用，默认true</span></span><br><span class="line">    <span class="string">"eval_code"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="string">"unescape_strings"</span>: <span class="literal">false</span>,      <span class="comment">//解码用xNN编码的可打印字符，默认false</span></span><br><span class="line">    <span class="string">"wrap_line_length"</span>: <span class="number">0</span>,          <span class="comment">//Wrap lines at next opportunity after N characters. (Set zero to ignore wrapping),默认0,下次在n个字符后换行</span></span><br><span class="line">    <span class="string">"wrap_attributes"</span>: <span class="string">"auto"</span>,        <span class="comment">//将html属性标签放在新行“auto”,“force”,默认auto</span></span><br><span class="line">    <span class="string">"wrap_attributes_indent_size"</span>: <span class="number">4</span>, <span class="comment">//html属性标签新行缩进字符数，默认为"indent_size"4</span></span><br><span class="line">    <span class="string">"end_with_newline"</span>: <span class="literal">false</span>         <span class="comment">//在文件结尾保证有换行，默认false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>indentation 缩进</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/17/ReactNative环境安装/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ethan Hunt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tx.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="易天行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/17/ReactNative环境安装/" itemprop="url">ReactNative环境安装</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-17T13:04:53+08:00">
                2016-12-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ReactNative环境安装"><a href="#ReactNative环境安装" class="headerlink" title="ReactNative环境安装"></a>ReactNative环境安装</h2><p>2016年12月17日13:04:16</p>
<p>在安装rn，初始化rn应用，以及npm install rn工程的时候，要尽量注意做到使用<code>npm</code>，不要使用<code>cnpm</code>代替，可能会出现未知的错误。</p>
<h3 id="1-安装node、配置镜像加速"><a href="#1-安装node、配置镜像加速" class="headerlink" title="1.安装node、配置镜像加速"></a>1.安装node、配置镜像加速</h3><p>node安装过程略。</p>
<p>建议一定要设置镜像来加速，不然速度会很慢：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org --global</span><br><span class="line">npm config <span class="built_in">set</span> disturl https://npm.taobao.org/dist --global</span><br></pre></td></tr></table></figure>
<h3 id="2-安装rn和yarn"><a href="#2-安装rn和yarn" class="headerlink" title="2.安装rn和yarn"></a>2.安装rn和yarn</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g yarn react-native-cli</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Yarn是Facebook提供的替代npm的工具，可以加速node模块的下载。React Native的命令行工具用于执行创建、初始化、更新项目、运行打包服务（packager）等任务。</p>
</blockquote>
<p>如果出现错误，考虑修改权限</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo chown -R `whoami` /usr/local</span><br></pre></td></tr></table></figure>
<h3 id="3-选择安装"><a href="#3-选择安装" class="headerlink" title="3.选择安装"></a>3.选择安装</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew install watchman</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Watchman是由Facebook提供的监视文件系统变更的工具，安装此工具，packager可以快速捕捉文件的变化从而实现实时刷新，提高效率。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew install flow</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Flow是一个静态的JS类型检查工具,它只是Facebook自家的代码规范。新手可以选择跳过。</p>
</blockquote>
<h3 id="4-新建测试项目"><a href="#4-新建测试项目" class="headerlink" title="4.新建测试项目"></a>4.新建测试项目</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">react-native init AwesomeProject</span><br><span class="line">cd AwesomeProject</span><br><span class="line">react-native run-ios</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/08/The-Advantages-of-Progressive-Web-Apps-in-the-Modern-Mobile-Environment/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ethan Hunt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tx.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="易天行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/08/The-Advantages-of-Progressive-Web-Apps-in-the-Modern-Mobile-Environment/" itemprop="url">渐进式Web应用程序在现代移动环境中的优势</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-08T19:16:19+08:00">
                2016-12-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/翻译/" itemprop="url" rel="index">
                    <span itemprop="name">翻译</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>渐进式Web应用程序在现代移动环境中的优势<br>The Advantages of Progressive Web Apps in the Modern Mobile Environment</p>
<blockquote>
<p>文章翻译自：<a href="http://blog.ionic.io/the-advantages-of-pwas/" target="_blank" rel="noopener">http://blog.ionic.io/the-advantages-of-pwas/</a><br>2016/12/1，作者：<a href="http://twitter.com/@Justinwillis96" target="_blank" rel="noopener">Justin</a>，译者：shaochong</p>
</blockquote>
<p>我们一直在谈论Progressive Web Apps（下文简称PWA）- 它是用现代化的web API如<code>service workers</code>，<code>web manifest</code>和<code>web push</code>来构建的web应用程序，让人们在浏览器中就可以体验到和本地程序一样棒的使用体验。</p>
<blockquote>
<p>我来解释几个概念（译者注）<br><code>service workers</code>是啥玩意？你可以这么理解，它运行于你当前页面主线程外的另一个线程中，用来加速你的APP，以它独特的技术来建立高效的离线体验，拦截网络请求，并且会根据当前的网络是否可用、服务器的内容是否更新来采取合适的策略。他们还允许通知推送和后台同步API。更多请参见MDN <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API" target="_blank" rel="noopener">Service Workers</a>。<br><code>web manifest</code>又是啥玩意？它提供了一个文本文件的应用程序（如名称，作者，图标和描述）的信息，其目的是安装Web应用程序到设备的主屏幕，提供更快速、更丰富的用户体验。更多参见MDN <a href="https://developer.mozilla.org/en-US/docs/Web/Manifest" target="_blank" rel="noopener">Web App Manifest</a>。<br><code>web push</code>是什么鬼？Web Push API让web应用有了可以接受来自服务端推送来的消息的能力，无论web应用是否在前台运行，甚至是否加载完成。这让开发者可以实现异步通知和更新，及时的数据更新会让用户有更好的参与感。更多请参见<a href="https://developer.mozilla.org/en-US/docs/Web/API/Push_API" target="_blank" rel="noopener">Push API</a></p>
</blockquote>
<h3 id="全新的移动环境"><a href="#全新的移动环境" class="headerlink" title="全新的移动环境"></a>全新的移动环境</h3><p>在我们谈论PWA的优势之前，有一件很重要的事情，那就是要搞清楚现在的移动环境和我们过去的开发环境有什么不同的地方。随着发展中国家越来越多的人能够通过他们的移动设备访问互联网，我们也要准备好为他们构建app，就像为在旧金山使用iphone7的人一样。<br>一，这些用户主要是通过2G或这3G来上网，它们网速很糟糕。<br>二，他们的设备通常有1-2G的RAM，慢速四核CPU，4GB的磁盘存储空间，运行android5.0或更高。<br>三，移动数据上网费用还是很昂贵的。到2016年，印度1GB移动数据平均成本为3.81美元，而最低工资为每小时31美分。这是一个很具有挑战性的应用场合，但是通过PWA我们仍然可以构建很棒、用户体验很好的应用程序。</p>
<h3 id="为什么PWAs在现代移动环境中有着无与伦比的优势"><a href="#为什么PWAs在现代移动环境中有着无与伦比的优势" class="headerlink" title="为什么PWAs在现代移动环境中有着无与伦比的优势"></a>为什么PWAs在现代移动环境中有着无与伦比的优势</h3><p>和本地原生应用相比，PWA有三个关键的特点，让它能够构建功能更完善、用户体验更好的应用程序。</p>
<ul>
<li>高效的使用磁盘空间</li>
<li>高效的使用网络</li>
<li>不需要一次性安装大型的安装包</li>
</ul>
<p>Service workers可以帮我们完成这三个工作。<br>举个例子来说，service workers 能够让我们动态的缓存资源到本地设备，所以即使是在慢速、糟糕的网络环境中，我们仍能够提供很好的使用体验。这里的关键点是动态缓存。这意味着在慢速糟糕的网络环境中，我们可以优先缓存那些对程序来说最重要的资源，而无需去下载一个大的APK文件。比如，对于一个电商app，你可能不希望将app中的每一个产品页都缓存到本地。我们仅仅需要将那些之前浏览过的产品页和app启动所必须的资源文件缓存到本地。<br>此外，由于是网站的工作方式，用户不必一次性的下载大的app文件。他们只需要下载他们所访问的PWA页面，并且通过使用service worker的动态缓存，我们可以选择仅缓存我们PWA应用的重要页面，因此这些页面只需要下载一次即可。我们可以通过Flipkart PWA来看看实际效果。在我的Nexus6上，他占用了大约351KB的存储空间。而在同一台设备上，Twitter的应用程序占用了69.36MB。如你所见，差距很大，在那些只有4G存储空间的设备上，差距将更加明显。</p>
<h3 id="Ionic对于PWA的计划"><a href="#Ionic对于PWA的计划" class="headerlink" title="Ionic对于PWA的计划"></a>Ionic对于PWA的计划</h3><p>目前在ionic中支持对PWA的开箱即用，而且在不久的将来我们将会使它的支持更加强大。我们现在默认提供一个service worker和web manifest，让你的ionic应用具有PWA应用的能力，比如离线缓存，浏览器提示添加到主屏幕等。<br>此外，由于ionic是使用纯web技术来构建的，所以它可以很好的在浏览器中工作。展望未来，我们已经致力于通过代码拆分（code splitting），树形目录（treeshaking）和属性重命名（property renaming）来使我们的捆绑包更小，这可以让你的ionic2应用运行的更快。我们知道，在移动网络上，加载时间是很重要的，相信通过这些改变，我们可以更好的满足这一点。<br>使用Progressive Web Apps和现代化网络的强大功能，即使在低端，便宜的设备上，我们也能提供出色的用户体验。 PWA为移动应用程序提供了全新的范例，这对新的移动环境至关重要。 下次当你有一个极好的构思和想法，而且想要把它构建为移动app的时候，考虑将其构建为一个PWA应用，这可以让你的app触及到下一个十亿级的用户群体。</p>
<blockquote>
<p>译者：shaochong</p>
<p>E-mail：hao5743@163.com</p>
<p>博客：<a href="http://hao5743.github.io/" target="_blank" rel="noopener">http://hao5743.github.io/</a></p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/05/在angular1中自定义directive时数据显示不同步问题的分析和解决/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ethan Hunt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tx.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="易天行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/05/在angular1中自定义directive时数据显示不同步问题的分析和解决/" itemprop="url">在angular1中自定义directive时数据显示不同步问题的分析和解决</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-05T16:33:38+08:00">
                2016-12-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Angular/" itemprop="url" rel="index">
                    <span itemprop="name">Angular</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="在angular1中自定义directive时数据显示不同步问题的分析和解决"><a href="#在angular1中自定义directive时数据显示不同步问题的分析和解决" class="headerlink" title="在angular1中自定义directive时数据显示不同步问题的分析和解决"></a>在angular1中自定义directive时数据显示不同步问题的分析和解决</h1><p>2016-12-05 16:33:38</p>
<p>在angular1项目中，有的时候我们需要写<code>自定义directive</code>来完成某些应用逻辑，但是如果你有过一些的angular1项目的开发经验，肯定会因为一些莫名其妙数据双向绑定，回调函数无法调用执行等问题，困扰过。下面是一个简单的案例。</p>
<h3 id="问题引出"><a href="#问题引出" class="headerlink" title="问题引出"></a>问题引出</h3><p>这里我们写一个简单的<code>directive</code>来说明问题。</p>
<p>directive.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">angular.module(&apos;app.directive&apos;)</span><br><span class="line">.directive(&apos;ayTest&apos;,function()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        restrict: &apos;EA&apos;,</span><br><span class="line">        scope: &#123;</span><br><span class="line">            name:&apos;=&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        template:`</span><br><span class="line">            &lt;div class=&quot;padding mystyle&quot;&gt;</span><br><span class="line">                &#123;&#123;vm.name&#125;&#125;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        `,</span><br><span class="line">        controller:function($scope)&#123;</span><br><span class="line">            var vm = $scope.vm = &#123;&#125;;</span><br><span class="line">            vm.name = $scope.name;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>A.controller.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = $scope.vm = &#123;&#125;;</span><br><span class="line">   vm.name = <span class="string">'Tom1'</span>;</span><br><span class="line">   $timeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       vm.name = <span class="string">'Tom2'</span>;</span><br><span class="line">   &#125;,<span class="number">1000</span>);</span><br><span class="line">   $timeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       vm.name = <span class="string">'Tom3'</span>;</span><br><span class="line">   &#125;,<span class="number">2000</span>);</span><br></pre></td></tr></table></figure>
<p>A.html</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ay-test name=&quot;vm.name&quot;&gt;&lt;/ay-test&gt;</span><br></pre></td></tr></table></figure>
<p>这个directive可以实现以我们自己的格式展示‘name’的功能，我们可以通过在template中填写自己独有的style或者嵌套div来完善name展示模块。</p>
<p>在这我们希望<code>name</code>能够实现双向绑定，即当在A页面中<code>name</code>值发生变化的时候，directive也自动获得更改。</p>
<p>但是，在这里并不能实现这个功能，当<code>name</code>显示为<code>Tom1</code>之后，就不会再变化了。</p>
<p>###为什么会这样呢？</p>
<p>我们都知道自定义directive时，有3个绑定符号，分别是</p>
<ul>
<li><code>@</code> 单向绑定属性值</li>
<li><code>=</code> 双向绑定属性</li>
<li><code>&amp;</code> 绑定用户函数</li>
</ul>
<p>这里为了实现信息的双向绑定，已经使用了<code>=</code>，为什么还无法完成双向绑定呢？对于大神们，当然能一眼看出问题的所在，但小白可能会摸索比较长的时间~~~~</p>
<p><em>问题出在<code>vm.name = $scope.name;</code>这句代码上</em>。因为name是一个基本字符串，赋值时，相当于对vm.name创建了一个新值，并赋值为<code>$scope.name</code>的值。这样，虽然controller中的<code>$scope.name</code>和页面上的<code></code>仍存在双向绑定，但是和我们的<code>vm.name</code>却无任何关系了。</p>
<p>我们应该还知道下面的这个问题：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//controller.js</span><br><span class="line">$socpe.username = &apos;Mary&apos;;</span><br><span class="line">//B.html</span><br><span class="line">&lt;input ng-model=&apos;username&apos; /&gt;</span><br></pre></td></tr></table></figure>
<p>如果你按照上面的方式来编码，十有八九会出现意外情况。</p>
<p>出现这样错误的根本原因，其实还是对JavaScript变量的值访问、引用访问，开发中的值传递、引用传递没有理解清楚。下面说一些这方面的问题。</p>
<h3 id="Js基本类型、值传递"><a href="#Js基本类型、值传递" class="headerlink" title="Js基本类型、值传递"></a>Js基本类型、值传递</h3><p>下面是笔者摘自《JavaScript高级程序设计》中的几段话，读者可以参照理解。这里并不是笔者自己懒，而书中的表达更准确，而且也很容易理解~~(如果你说不知道这本书，推荐快去读一下，如果你做Js相关开发，会让你受益匪浅，我能给你电子版，联系<code>hao5743@163.com</code> )</p>
<blockquote>
<p>5种基本数据类型：Undefined、Null、Boolean、Number和String，<strong>5种基本数据类型是按值访问</strong>的，因为可以操作保存在变量中的实际的值。</p>
<p>引用类型的值是保存在内存中的对象。于其他语言不同，JavaScript不允许直接访问内存中的位置，也就是说不能直接操作对象的内存空间。在操作对象时，实际上是在操作对象的引用而不是实际的对象。<strong>引用类型的值是按引用访问</strong>的。</p>
<p>–<em>参见《JavaScript高级程序设计》P69 4.1 基本类型和引用类型的值</em></p>
<p>如果从一个变量向另一个变量复制基本类型的值，会在变量对象上创建一个新值，然后把该值复制到为新变量分配的位置上。</p>
<p>–<em>参见《JavaScript高级程序设计》P69 4.1.2 复制变量值</em></p>
<p><strong>ECMAScript中所有函数的参数都是按值传递的</strong>。也就是说，把函数外部的值赋值给函数内部的参数，就和把值从一个变量复制到另一个变量一样。基本类型值的传递如同基本类型变量的复制一样，二引用类型值的传递，则如同引用类型变量的复制一样。有不少开发人员在这一点可能会感到困惑，因为访问变量有按值和按引用两种方式，而参数只能按值传递。</p>
<p>–<em>参见《JavaScript高级程序设计》P70 4.1.3 传递参数</em></p>
</blockquote>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>理解了上面的话，那么你就能轻易用不同的方案解决这个问题了。</p>
<h4 id="方案1-直接使用-scope-name展示数据"><a href="#方案1-直接使用-scope-name展示数据" class="headerlink" title="方案1 直接使用$scope.name展示数据"></a>方案1 直接使用<code>$scope.name</code>展示数据</h4><p>directive.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">angular.module(&apos;app.directive&apos;)</span><br><span class="line">.directive(&apos;ayTest&apos;,function()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        restrict: &apos;EA&apos;,</span><br><span class="line">        scope: &#123;</span><br><span class="line">            name:&apos;=&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        //这里直接使用name，不再使用vm.name</span><br><span class="line">        template:`</span><br><span class="line">            &lt;div class=&quot;padding mystyle&quot;&gt;</span><br><span class="line">                &#123;&#123;name&#125;&#125;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        `,</span><br><span class="line">        controller:function($scope)&#123;</span><br><span class="line">            var vm = $scope.vm = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>不再使用vm的方式，而是直接绑定到页面，可以解决问题。</p>
<h4 id="方案2-使用引用类型打包基本类型再传递"><a href="#方案2-使用引用类型打包基本类型再传递" class="headerlink" title="方案2 使用引用类型打包基本类型再传递"></a>方案2 使用引用类型打包基本类型再传递</h4><p>如果，你在angular1开发中，一直遵循了好的实践，那么有可能<code>vm.name</code>你可能已经使用习惯了。也许你会问，如果我还想使用<code>vm.name</code>的方式，我想遵循官方给出的最佳实践，怎么解决这个问题呢？</p>
<blockquote>
<p>（什么是最佳实践？如果你是angular开发者，而还不知道的话，那么一定要去读读，原版<a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md" target="_blank" rel="noopener">在这里</a>，英文差的<a href="http://www.tuicool.com/articles/JbuErq" target="_blank" rel="noopener">看这里</a>）</p>
</blockquote>
<p>当然有方法啦！看下面<br>controller.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var vm = $scope.vm = &#123;&#125;;</span><br><span class="line">vm.name = &#123;&#125;;</span><br><span class="line">//将数据封装到到内部属性data上</span><br><span class="line">vm.name.data = &apos;Tom1&apos;;</span><br><span class="line">$timeout(function()&#123;</span><br><span class="line">    vm.name.data = &apos;Tom2&apos;;</span><br><span class="line">&#125;,1000);</span><br><span class="line">$timeout(function()&#123;</span><br><span class="line">    vm.name.data = &apos;Tom3&apos;;</span><br><span class="line">&#125;,2000);</span><br></pre></td></tr></table></figure>
<p>A.html</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ay-test name=&quot;vm.name&quot;&gt;&lt;/ay-test&gt;</span><br></pre></td></tr></table></figure>
<p>directive.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.directive(&apos;ayTest&apos;,function()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        restrict: &apos;EA&apos;,</span><br><span class="line">        scope: &#123;</span><br><span class="line">            name:&apos;=&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        template:`</span><br><span class="line">            &lt;div class=&quot;padding&quot;&gt;</span><br><span class="line">                &#123;&#123;vm.name.data&#125;&#125;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        `,</span><br><span class="line">        controller:function($scope)&#123;</span><br><span class="line">            var vm = $scope.vm = &#123;&#125;;</span><br><span class="line">            //注意，虽然这里重新赋值了name,但是我们的vm.name.data还是同一份，所以仍能实现绑定</span><br><span class="line">            vm.name = $scope.name;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="方案3-使用-scope-watch"><a href="#方案3-使用-scope-watch" class="headerlink" title="方案3 使用$scope.$watch"></a>方案3 使用<code>$scope.$watch</code></h4><p>如果你知道<code>$scope.$watch</code>，并且了解何时使用它，那么你应该知道这里也可能使用它来解决。看代码。</p>
<p>controller.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var vm = $scope.vm = &#123;&#125;;</span><br><span class="line">//并没有进行数据封装</span><br><span class="line">vm.name = &apos;Tom1&apos;;</span><br><span class="line">$timeout(function()&#123;</span><br><span class="line">    vm.name = &apos;Tom2&apos;;</span><br><span class="line">&#125;,1000);</span><br><span class="line">$timeout(function()&#123;</span><br><span class="line">    vm.name = &apos;Tom3&apos;;</span><br><span class="line">&#125;,2000);</span><br></pre></td></tr></table></figure>
<p>A.html</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ay-test name=&quot;vm.name&quot;&gt;&lt;/ay-test&gt;</span><br></pre></td></tr></table></figure>
<p>directive.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">angular.module(&apos;app.directive&apos;)</span><br><span class="line">.directive(&apos;ayTest&apos;,function()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        restrict: &apos;EA&apos;,</span><br><span class="line">        scope: &#123;</span><br><span class="line">            name:&apos;=&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        template:`</span><br><span class="line">            &lt;div class=&quot;padding&quot;&gt;</span><br><span class="line">                &#123;&#123;vm.name&#125;&#125;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        `,</span><br><span class="line">        controller:function($scope)&#123;</span><br><span class="line">            var vm = $scope.vm = &#123;&#125;;</span><br><span class="line">            //添加数据监测</span><br><span class="line">            $scope.$watch(&apos;name&apos;,function(newValue,oldValue)&#123;</span><br><span class="line">                vm.name = $scope.name;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>这个方法其实相当于多加了一层的监测，<code>vm.name</code>和页面上的<code></code>绑定，通过<code>$scope.$watch</code>，我们让<code>vm.name</code>和<code>$scope.name</code>两个变量的值保持一致性。</p>
<h4 id="哪个方法好呢"><a href="#哪个方法好呢" class="headerlink" title="哪个方法好呢"></a>哪个方法好呢</h4><p>个人推荐第一种方法，因为他所做的工作最少，效率相对较高（虽然高不了很多）。</p>
<h3 id="最后的话"><a href="#最后的话" class="headerlink" title="最后的话"></a>最后的话</h3><p>本文首先提出了在编写自定义directive时有时候会出现的数据无法同步的问题。随后分析了问题，并给出了几种解决方案。</p>
<p>其实，问题的根本首先在于对JavaScript变量<code>值访问</code>、<code>引用访问</code>和<code>值传递</code>等概念的理解，其次在于对angular1<code>scope层级</code>、<code>双向绑定</code>、<code>脏值检测</code>等概念的理解。</p>
<p>有时，还能需要处理其他情况，比如默认值处理，分条件展示，错误值处理、数据回显、回调函数处理等具体问题，可以参考上面3种思路来具体实现。</p>
<p>很简单一个问题，个人只是做了一下分析，有错误的地方请大神及时指出，感激不尽~~</p>
<blockquote>
<p>Author：shaochong</p>
<p>Email：hao5743@163.com</p>
<p>文章地址：<a href="https://hao5743.github.io/2016/12/05/Data-bind-problem-in-Angular-when-define-your-own-directives/" target="_blank" rel="noopener">https://hao5743.github.io/2016/12/05/Data-bind-problem-in-Angular-when-define-your-own-directives/</a></p>
<p>博客：<a href="http://hao5743.github.io/" target="_blank" rel="noopener">http://hao5743.github.io/</a></p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/03/Handling-CORS-issues-in Ionic/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ethan Hunt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tx.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="易天行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/03/Handling-CORS-issues-in Ionic/" itemprop="url">彻底解决Ionic项目中的跨域问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-03T18:38:17+08:00">
                2016-12-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ionic/" itemprop="url" rel="index">
                    <span itemprop="name">ionic</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在<code>ionic</code>项目中，如果你使用<code>ionic serve</code>或者<code>ionic run</code>,并且开启了动态加载（live reload），且访问了远端服务器的API，那么你就可能会遇到 <a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing" target="_blank" rel="noopener">跨域资源共享(CORS)</a> 问题。出现类似下面的错误提示：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">XMLHttpRequest cannot load http://api.ionic.com/endpoint.</span><br><span class="line">No &apos;Access-Control-Allow-Origin&apos; header is present on the requested resource.</span><br><span class="line">Origin &apos;http://localhost:8100&apos; is therefore not allowed access.</span><br></pre></td></tr></table></figure></p>
<p>那么，什么是CORS？ 为什么在这里会发生这个错误呢？</p>
<h2 id="什么是CORS？"><a href="#什么是CORS？" class="headerlink" title="什么是CORS？"></a>什么是CORS？</h2><p>CORS = Cross origin resource sharing <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS" target="_blank" rel="noopener">跨域资源共享</a><br><code>origin</code>是你当前所在页面的主机地址。<br>如果你在浏览<code>http://ionicframework.com/blog/handling-cors-issues-in-ionic</code>页面，它的<code>origin</code>就是<code>ionicframework.com</code>。在此页面上，如果你要向<code>http://cors.api.com/api</code>发送一个<a href="https://developer.mozilla.org/zh-CN/docs/AJAX/Getting_Started" target="_blank" rel="noopener">AJAX</a>请求,您的主机源将由Origin标头指定，该标头会自动包含在浏览器的CORS请求中。因为<code>ionicframework.com</code>和主机<code>api.com</code>并不匹配，我们从<code>ionicframework.com</code>的请求必须要经过服务器的批准，才能够访问该资源，以Http Options请求头的形式。</p>
<p>如果我们遇到了上面的错误，说明服务器没有给我们的地址<code>ionicframework.com</code>赋予访问该资源的权限。</p>
<p>下面来看一下，当通过<code>ionic serve</code>,<code>ionic run</code>,<code>ionic run -l</code>三种不同方式运行app时，你的<code>origin</code>分别是什么？</p>
<h3 id="在浏览器中运行时"><a href="#在浏览器中运行时" class="headerlink" title="在浏览器中运行时"></a>在浏览器中运行时</h3><p>在执行<code>ionic serve</code>时，发生了什么？</p>
<ul>
<li>启动了一个本地web服务器</li>
<li>你的浏览器自动打开了指向本地服务器地址的一个页面</li>
</ul>
<p>这时你可以看到你的app加载到了你的浏览器上，地址是<code>http://localhost:8100</code>(如果你选择了localhost)。</p>
<p>这时，你的<code>origin</code>是<code>localhost:8100</code>。</p>
<p>任何发送到主机而不是<code>localhost:8100</code>的AJAX请求，都将以<code>localhost:8100</code>作为其<code>origin</code>，因此需要经过CORS预检请求，来查看是否有权限访问该资源。</p>
<h3 id="在设备上运行时"><a href="#在设备上运行时" class="headerlink" title="在设备上运行时"></a>在设备上运行时</h3><p>当执行<code>ionic run</code>时，又发生了些什么呢？</p>
<ul>
<li>应用程序文件被复制到设备（或模拟器）。</li>
<li>app开始运行，然后启动一个设备（或模拟器）上的浏览器来打开这些文件，类似<code>file://some/path/www/index.html</code></li>
</ul>
<p>这样，你的<code>origin</code>将不存在了，因为你正在运行于一个文件（<code>file://</code>）URI。理所当然，你的任何向外请求将不需要通过CORS预检。</p>
<h3 id="在设备上通过自动加载（livereload）运行时"><a href="#在设备上通过自动加载（livereload）运行时" class="headerlink" title="在设备上通过自动加载（livereload）运行时"></a>在设备上通过自动加载（livereload）运行时</h3><p>执行<code>ionic run -l</code>时，又将发生什么呢？</p>
<ul>
<li>首先启动一个本地web服务器</li>
<li>设备（或模拟器）上app开始运行，启动一个浏览器来开地址<code>http://192.168.1.1:8100</code>（你的本地IP地址）上的文件。</li>
</ul>
<p>这时，你的<code>origin</code>是<code>192.168.1.1:8100</code>。</p>
<p>任何发送到主机而不是<code>192.168.1.1:8100</code>的AJAX请求，都将以<code>192.168.1.1:8100</code>作为其<code>origin</code>，因此需要经过CORS预检请求，来查看是否有权限访问该资源。</p>
<h2 id="在Ionic中处理CORS问题"><a href="#在Ionic中处理CORS问题" class="headerlink" title="在Ionic中处理CORS问题"></a>在Ionic中处理CORS问题</h2><p>CORS问题仅仅发生在，当我们以<code>ionic serve</code>或<code>ionic run -l</code>来运行或测试app的时候。</p>
<p>有2种方法来解决这个问题.</p>
<p>第一种，比较容易的方法，是设置远端服务器，让它可以接受所有源的请求。第二种，有时候我们没有权限去修改远端服务器，此时就需要一个不指定源的请求。</p>
<p>我们可以使用代理服务器来实现这个方案。<code>ionic cli</code>给我们提供了一个很方便的配置代理服务器的方法，下面我们看一下如何来实现。</p>
<h2 id="Ionic-CLI代理服务器"><a href="#Ionic-CLI代理服务器" class="headerlink" title="Ionic CLI代理服务器"></a>Ionic CLI代理服务器</h2><p>下面是关于代理（proxy）的一个定义：</p>
<blockquote>
<p>In computer networks, a proxy server is a server (a computer system or an application) that acts as an intermediary for requests from clients seeking resources from other servers.</p>
<p>在计算机网络中，代理服务器是一个客户端请求的中介服务器（计算机系统或应用），它用于帮助客户端寻找位于其他服务器上的资源。</p>
</blockquote>
<p>要解决我们在ionic中遇到的CORS问题，我们需要设置一个代理服务器，它接受我们的请求，并向API端点发出新的请求，然后接受响应，并将其转发回我们的应用程序。</p>
<p>由于代理服务器需要向目标发送新的请求，因此请求中将不会有<code>origin</code>(源)，也就不再需要CORS了。 需要非常注意一点是，<strong><code>origin</code>是浏览器自动帮我们添加在请求头中的</strong>。</p>
<p>Ionic CLI具有为客户端请求设置代理服务器的能力，用来帮助您解决CORS问题，下面来看一下Ionic CLI设置代理的方法。</p>
<h2 id="设置代理服务器"><a href="#设置代理服务器" class="headerlink" title="设置代理服务器"></a>设置代理服务器</h2><p>再次说明一下，仅仅在<code>ionic serve</code>或<code>ionic run -l</code>的时候需要设置代理。</p>
<p>首先，我们需要在<code>ionic.project</code>（注意，ionic2 cli新版本已经将此文件重命名为<code>ionic.config.json</code>）配置文件中设置代理。 这将告诉Ionic本地服务器监听这些路径并将这些请求转发到目标网址。</p>
<p>在app中，我们需要替换包含endpoint的URLS，并设置为我们的代理服务器地址。（In our app, we will need to replace our endpoint URLS to be set to the proxy server address for when we are running serve or run -l.）</p>
<blockquote>
<p>什么是<code>endpoint</code>？</p>
<p>在项目中 endpoint有时也写作baseUrl，比如这个<code>http://cors.api.com/api/book/2/detail</code>的endpoint是<code>http://cors.api.com/api</code>，再比如<code>http://localhost:8101/api/user/123</code>的endpoint是<code>http://localhost:8101/api</code>。</p>
<p>笔者没有想到好的中文来替代这个英文单词，所以没有进行翻译，希望小伙伴们能够理解它的意思就好啦<del>~</del></p>
</blockquote>
<p>我们可以通过设置一些<em>gulp任务</em>，用gulp中的替换模块(replace)来替换出这些URLS，来简化这一步骤。</p>
<p>比较推荐的方法是设置一个Angular Constant来同一设置的endpoint，方便统一进行修改和维护。</p>
<p>下面是操作步骤。我们需要设置一个Angular Service ApiEndpoint来获取数据。</p>
<h2 id="配置代理地址"><a href="#配置代理地址" class="headerlink" title="配置代理地址"></a>配置代理地址</h2><p>配置代理有两个需要注意的地方。</p>
<ul>
<li><code>path</code>：你在本地Ionic服务器上访问它们的路径</li>
<li><code>proxyUrl</code>：你最终希望通过API调用达到的proxyUrl</li>
</ul>
<p>修改<code>ionic.config.json</code>(旧版本Ionic CLI是<code>ionic.project</code>)：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;proxy-example&quot;,</span><br><span class="line">  &quot;app_id&quot;: &quot;&quot;,</span><br><span class="line">  &quot;proxies&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;path&quot;: &quot;/api&quot;, </span><br><span class="line">      &quot;proxyUrl&quot;: &quot;http://cors.api.com/api&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如上所述，当您请求访问<code>http://localhost:8100/api</code>的ionic服务器时，它会替你代理请求到<code>http://cors.api.com/api</code>上。这样，就不需要CORS了。</p>
<h2 id="设置Angular-Constant"><a href="#设置Angular-Constant" class="headerlink" title="设置Angular Constant"></a>设置Angular Constant</h2><p>很容易将你的ApiEndpoint设置为Angular Constant。下面，我们已经将ApiEndpoint指定为我们的代理url。然后，我们就可以使用这个url作为一个常数。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">angular.module(&apos;starter&apos;, [&apos;ionic&apos;, &apos;starter.controllers&apos;, &apos;starter.services&apos;])</span><br><span class="line">.constant(&apos;ApiEndpoint&apos;, &#123;</span><br><span class="line">  url: &apos;http://localhost:8100/api&apos;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//For the real endpoint, we&apos;d use this</span><br><span class="line">// constant(&apos;ApiEndpoint&apos;, &#123;</span><br><span class="line">//  url: &apos;http://cors.api.com/api&apos;</span><br><span class="line">// &#125;)</span><br></pre></td></tr></table></figure>
<h2 id="设置Angular-Service"><a href="#设置Angular-Service" class="headerlink" title="设置Angular Service"></a>设置Angular Service</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">angular.module(&apos;starter.services&apos;, [])</span><br><span class="line"></span><br><span class="line">//NOTE: We are including the constant `ApiEndpoint` to be used here.</span><br><span class="line">.factory(&apos;Api&apos;, function($http, ApiEndpoint) &#123;</span><br><span class="line">  console.log(&apos;ApiEndpoint&apos;, ApiEndpoint)</span><br><span class="line"></span><br><span class="line">  var getApiData = function() &#123;</span><br><span class="line">    return $http.get(ApiEndpoint.url + &apos;/tasks&apos;)</span><br><span class="line">      .then(function(data) &#123;</span><br><span class="line">        console.log(&apos;Got some data: &apos;, data);</span><br><span class="line">        return data;</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  return &#123;</span><br><span class="line">    getApiData: getApiData</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="使用Gulp实现URL自动切换"><a href="#使用Gulp实现URL自动切换" class="headerlink" title="使用Gulp实现URL自动切换"></a>使用Gulp实现URL自动切换</h2><p>首先，需要安装<code>replace module</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save replace</span><br></pre></td></tr></table></figure>
<p>然后，我们需要修改<code>gulpfile.js</code>，并添加2个任务，来添加代理地址、移出代理地址。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// `npm install --save replace`</span><br><span class="line">var replace = require(&apos;replace&apos;);</span><br><span class="line">//注意下面的文件地址，它是包含你endpoint或baseurl的文件</span><br><span class="line">var replaceFiles = [&apos;./www/js/app.js&apos;];</span><br><span class="line"></span><br><span class="line">gulp.task(&apos;add-proxy&apos;, function() &#123;</span><br><span class="line">  return replace(&#123;</span><br><span class="line">    regex: &quot;http://cors.api.com/api&quot;,</span><br><span class="line">    replacement: &quot;http://localhost:8100/api&quot;,</span><br><span class="line">    paths: replaceFiles,</span><br><span class="line">    recursive: false,</span><br><span class="line">    silent: false,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">gulp.task(&apos;remove-proxy&apos;, function() &#123;</span><br><span class="line">  return replace(&#123;</span><br><span class="line">    regex: &quot;http://localhost:8100/api&quot;,</span><br><span class="line">    replacement: &quot;http://cors.api.com/api&quot;,</span><br><span class="line">    paths: replaceFiles,</span><br><span class="line">    recursive: false,</span><br><span class="line">    silent: false,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h2><p>这个教程展示给你了在运行<code>ionic serve</code>或<code>ionic run -l</code>的时候，一个处理CORS问题的方法。</p>
<p>我们知道，如果按这个方法处理，当我们需要在<code>ionic serve</code>和<code>ionic run -l</code>切换的时候，将ApiEndpoint替换出来可能会比较麻烦。因此我们推荐使用gulp在程序启动时自动完成这个过程。</p>
<p>其实，最简单的处理CORS问题的方法，是要求你的api提供服务器来允许所有的<code>origin</code>。但是，有时候我们无法这么做。</p>
<p>使用Angular Constant和replace module会给我们一个愉快的解决方法来处理CORS问题。</p>
<p>如果你需要一个具体的例子，可以看一下这个<a href="https://github.com/driftyco/ionic-proxy-example" target="_blank" rel="noopener">示例工程</a>。</p>
<p>上面说的就是所有的当你访问一个API服务器时，关于处理CORS问题的全部。</p>
<p>如果你有疑问或想法，请在下面给我们评论，或者通过<a href="https://twitter.com/ionicframework" target="_blank" rel="noopener">twitter</a> or <a href="https://github.com/driftyco/ionic-cli" target="_blank" rel="noopener">github</a>.</p>
<hr>
<blockquote>
<p>文章翻译自：<a href="http://blog.ionic.io/handling-cors-issues-in-ionic/" target="_blank" rel="noopener">Handling CORS issues in Ionic，By Josh on February 24, 2015</a></p>
<p>译者：shaochong</p>
<p>说明：如果有翻译的不合适的地方，您可以联系（hao5743@163.com）我修改~</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/tx.jpeg"
                alt="Ethan Hunt" />
            
              <p class="site-author-name" itemprop="name">Ethan Hunt</p>
              <p class="site-description motion-element" itemprop="description">Make more time</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">37</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ethan Hunt</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
